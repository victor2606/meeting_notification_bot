# Meeting Notification Bot

Telegram-бот для управления мероприятиями с системой уведомлений и напоминаний.

## Возможности

- Просмотр предстоящих мероприятий по категориям (IT, Спорт, Книги)
- Регистрация на мероприятия
- Автоматические напоминания (за 24 часа и за 15 минут)
- Добавление в календарь (Google Calendar, Яндекс Календарь)
- Настройка уведомлений по категориям
- Админ-панель для управления мероприятиями

## Технологии

| Компонент | Технология |
|-----------|------------|
| Фреймворк | aiogram 3.x |
| База данных | PostgreSQL 15 |
| Планировщик | APScheduler |
| Контейнеризация | Docker |

## Быстрый старт

### Требования

- Python 3.11+
- PostgreSQL 15+
- Docker и Docker Compose (опционально)

### Установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/your-username/meeting_notification_bot.git
cd meeting_notification_bot
```

2. Создайте виртуальное окружение и установите зависимости:

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

3. Скопируйте файл конфигурации и заполните переменные:

```bash
cp .env.example .env
```

4. Настройте переменные окружения в `.env`:

```env
# Токен бота (получить у @BotFather)
BOT_TOKEN=your_bot_token_here

# Строка подключения к PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/event_bot

# ID администраторов (через запятую)
ADMIN_IDS=123456789,987654321
```

### Запуск

#### Локально

```bash
python3 main.py
```

#### Docker Compose

```bash
# Создайте .env файл с BOT_TOKEN и ADMIN_IDS
docker compose up -d
```

## Структура проекта

```
meeting_notification_bot/
├── main.py              # Точка входа
├── config.py            # Конфигурация
├── database/
│   ├── models.py        # SQL схемы таблиц
│   └── queries.py       # CRUD операции
├── handlers/
│   ├── user.py          # Обработчики для пользователей
│   └── admin.py         # Обработчики для администраторов
├── keyboards/
│   ├── inline.py        # Инлайн-клавиатуры
│   └── reply.py         # Reply-клавиатуры
├── scheduler/
│   └── reminders.py     # Планировщик напоминаний
└── utils/
    ├── calendar_links.py # Генерация ссылок на календари
    └── formatters.py     # Форматирование сообщений
```

## Команды бота

### Пользовательские

| Команда | Описание |
|---------|----------|
| `/start` | Запуск бота и главное меню |
| Мероприятия | Список предстоящих мероприятий |
| Мои записи | Мероприятия, на которые вы записаны |
| Настройки | Управление уведомлениями |

### Административные

| Команда | Описание |
|---------|----------|
| `/admin` | Админ-панель |
| Создать мероприятие | Создание нового мероприятия |
| Список мероприятий | Управление существующими |
| Рассылка | Отправка сообщений участникам |

## Категории мероприятий

- **IT** — технические митапы, лекции, хакатоны
- **Спорт** — спортивные активности
- **Книги** — книжные клубы, обсуждения

## Форматы

- **Онлайн** — ссылка на трансляцию
- **Оффлайн** — физический адрес

## Лицензия

MIT
